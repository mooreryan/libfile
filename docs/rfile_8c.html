<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ruby-like C: src/rfile.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ruby-like C
   &#160;<span id="projectnumber">v0.1.0</span>
   </div>
   <div id="projectbrief">Ruby-like string manipulation in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rfile.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>File containing functions like those found in Ruby's File class.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &quot;rfile.h&quot;</code><br />
<code>#include &quot;<a class="el" href="rstring_8h_source.html">rstring.h</a>&quot;</code><br />
<code>#include &quot;err_codes.h&quot;</code><br />
<code>#include &quot;bstrlib.h&quot;</code><br />
</div>
<p><a href="rfile_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9f8f09ed81e27bb5fd0a8d5f12108bcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#a9f8f09ed81e27bb5fd0a8d5f12108bcf">rfile_exist</a> (const rstring *fname)</td></tr>
<tr class="memdesc:a9f8f09ed81e27bb5fd0a8d5f12108bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether a file exists or not (i.e., stat is successful).  <a href="#a9f8f09ed81e27bb5fd0a8d5f12108bcf">More...</a><br /></td></tr>
<tr class="separator:a9f8f09ed81e27bb5fd0a8d5f12108bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a25e5f63b8902baf642dd2642160e44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#a9a25e5f63b8902baf642dd2642160e44">rfile_is_directory</a> (const rstring *fname)</td></tr>
<tr class="memdesc:a9a25e5f63b8902baf642dd2642160e44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether the named directory exists.  <a href="#a9a25e5f63b8902baf642dd2642160e44">More...</a><br /></td></tr>
<tr class="separator:a9a25e5f63b8902baf642dd2642160e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f023436f8dab5020f08fe31684b7f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#ac7f023436f8dab5020f08fe31684b7f7">rfile_is_file</a> (const rstring *fname)</td></tr>
<tr class="memdesc:ac7f023436f8dab5020f08fe31684b7f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether the named file exists and is a regular file.  <a href="#ac7f023436f8dab5020f08fe31684b7f7">More...</a><br /></td></tr>
<tr class="separator:ac7f023436f8dab5020f08fe31684b7f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeabc016ec0c86ad397565af546391e1"><td class="memItemLeft" align="right" valign="top">rstring *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#adeabc016ec0c86ad397565af546391e1">rfile_basename</a> (const rstring *fname)</td></tr>
<tr class="memdesc:adeabc016ec0c86ad397565af546391e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the basename of a file.  <a href="#adeabc016ec0c86ad397565af546391e1">More...</a><br /></td></tr>
<tr class="separator:adeabc016ec0c86ad397565af546391e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c0183d77333551e1a7d87af8bffacaf"><td class="memItemLeft" align="right" valign="top">rstring *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#a0c0183d77333551e1a7d87af8bffacaf">rfile_dirname</a> (const rstring *fname)</td></tr>
<tr class="memdesc:a0c0183d77333551e1a7d87af8bffacaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the dirname of a file.  <a href="#a0c0183d77333551e1a7d87af8bffacaf">More...</a><br /></td></tr>
<tr class="separator:a0c0183d77333551e1a7d87af8bffacaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8d56ccb773cd58095cc5b706ee542f"><td class="memItemLeft" align="right" valign="top">rstring *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#a7d8d56ccb773cd58095cc5b706ee542f">rfile_extname</a> (const rstring *fname)</td></tr>
<tr class="memdesc:a7d8d56ccb773cd58095cc5b706ee542f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the extension of a file.  <a href="#a7d8d56ccb773cd58095cc5b706ee542f">More...</a><br /></td></tr>
<tr class="separator:a7d8d56ccb773cd58095cc5b706ee542f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dcfb5d7db6ca3365e74df214c5ffdae"><td class="memItemLeft" align="right" valign="top">rstring *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rfile_8c.html#a1dcfb5d7db6ca3365e74df214c5ffdae">rfile_join</a> (rstring_array *rary)</td></tr>
<tr class="memdesc:a1dcfb5d7db6ca3365e74df214c5ffdae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a new path by joining the strings using the RFILE_SEPARATOR.  <a href="#a1dcfb5d7db6ca3365e74df214c5ffdae">More...</a><br /></td></tr>
<tr class="separator:a1dcfb5d7db6ca3365e74df214c5ffdae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File containing functions like those found in Ruby's File class. </p>
<dl class="section author"><dt>Author</dt><dd>Ryan Moore </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://ruby-doc.org/core-2.5.0/File.html">https://ruby-doc.org/core-2.5.0/File.html</a> </dd></dl>

<p class="definition">Definition in file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="adeabc016ec0c86ad397565af546391e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeabc016ec0c86ad397565af546391e1">&#9670;&nbsp;</a></span>rfile_basename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rstring* rfile_basename </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the basename of a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the file name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">rstring*</td><td>A valid rstring containing the basename of the file. </td></tr>
    <tr><td class="paramname">NULL</td><td>The input rstring is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller must free the result.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Ruby's also takes an optional second param for extname to strip. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00176">176</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>, <a class="el" href="rstring_8c_source.html#l00573">rstring_length()</a>, and <a class="el" href="rstring_8c_source.html#l00028">rstring_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">int</span> i                = 0;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">int</span> i_last_fs        = 0;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">int</span> i_basename_start = 0;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">int</span> char_at = 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">int</span> slen         = <a class="code" href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a>(fname);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (slen == RERROR) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordtype">int</span> basename_len = 0;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  rstring* basename = NULL;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">/* If we are passed an empty string.... */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (slen == 0) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    basename = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(basename)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> basename;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  i = index_before_first_trailing_file_separator(fname);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (i &lt; 0) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">/* This can only happen for names like &quot;////&quot; */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    char_at = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(fname, 0);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (char_at == RERROR || char_at != RFILE_SEPARATOR) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    basename = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(RFILE_SEPARATOR_STR);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(basename)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">/* The current index points to the char just before the first of</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">       trailing RFILE_SEPARATOR chars if there are any, so the trailing</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">       RFILE_SEPARATORs begin at i + 1. */</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    i_last_fs = i + 1;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">for</span> (i = i_last_fs - 1; i &gt;= 0; --i) {</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      char_at = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(fname, i);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">if</span> (char_at == RFILE_SEPARATOR) {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    i_basename_start = i + 1;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    basename_len     = i_last_fs - i_basename_start;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    basename = <a class="code" href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a>(fname, i_basename_start, basename_len);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(basename)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">return</span> basename;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div><div class="ttc" id="rstring_8c_html_aca8c55710516d18aa8c143c51a546049"><div class="ttname"><a href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a></div><div class="ttdeci">rstring * rstring_slice(const rstring *rstr, int index, int length)</div><div class="ttdoc">Return a substring starting at index of a given length (clamped by the end of rstr). </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00226">rstring.c:226</a></div></div>
<div class="ttc" id="rstring_8c_html_a7162fcaec08cf423ad11dfecc279499e"><div class="ttname"><a href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a></div><div class="ttdeci">int rstring_char_at(const rstring *rstr, int idx)</div><div class="ttdoc">Return the char at given position. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00596">rstring.c:596</a></div></div>
<div class="ttc" id="rstring_8c_html_af5be360e4bfbee194994cd2ddc3a6823"><div class="ttname"><a href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a></div><div class="ttdeci">rstring * rstring_new(const char *cstr)</div><div class="ttdoc">Make a new rstring from c string. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00028">rstring.c:28</a></div></div>
<div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
<div class="ttc" id="rstring_8c_html_a48e81cf18a8972237e862c8ac8c160f7"><div class="ttname"><a href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a></div><div class="ttdeci">int rstring_length(const rstring *rstr)</div><div class="ttdoc">Returns the length of the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00573">rstring.c:573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c0183d77333551e1a7d87af8bffacaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c0183d77333551e1a7d87af8bffacaf">&#9670;&nbsp;</a></span>rfile_dirname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rstring* rfile_dirname </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the dirname of a file. </p>
<p>Returns all components of the filename given in file_name except the last one (after first stripping trailing separators).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the file name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">rstring*</td><td>A valid rstring containing the directory of the file. </td></tr>
    <tr><td class="paramname">NULL</td><td>The input rstring is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller must free the result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00248">248</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>, <a class="el" href="rstring_8c_source.html#l00573">rstring_length()</a>, and <a class="el" href="rstring_8c_source.html#l00028">rstring_new()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">int</span> char_at = 0;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">int</span> slen = <a class="code" href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a>(fname);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> (slen == RERROR) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  rstring* dirname = NULL;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordflow">if</span> (slen == 0) {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    dirname = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(dirname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span> dirname;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  i = index_of_last_file_separator(fname);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  char_at = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(fname, 0);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordflow">if</span> (char_at == RERROR) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (i &lt; 0 &amp;&amp; char_at == RFILE_SEPARATOR) {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">/* Filenames like: &quot;/////&quot; */</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    dirname = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(RFILE_SEPARATOR_STR);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(dirname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &lt; 0) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">/* Filenames like: &quot;apple&quot; */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    dirname = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(dirname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">/* There was a basename.  Now we need to make sure that there</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">       aren&#39;t a bunch of fs chars right in a row. */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    i = index_of_last_file_separator_from_pos(fname, i);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">if</span> (i &lt;= 0) {</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="comment">/* This could happen for filenames like: &quot;/////apple&quot; or &quot;/apple&quot; */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      dirname = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(RFILE_SEPARATOR_STR);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(dirname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordtype">int</span> i_before_last_fs = i - 1;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      dirname = <a class="code" href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a>(fname, 0, i_before_last_fs + 1);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(dirname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">return</span> dirname;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="ttc" id="rstring_8c_html_aca8c55710516d18aa8c143c51a546049"><div class="ttname"><a href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a></div><div class="ttdeci">rstring * rstring_slice(const rstring *rstr, int index, int length)</div><div class="ttdoc">Return a substring starting at index of a given length (clamped by the end of rstr). </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00226">rstring.c:226</a></div></div>
<div class="ttc" id="rstring_8c_html_a7162fcaec08cf423ad11dfecc279499e"><div class="ttname"><a href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a></div><div class="ttdeci">int rstring_char_at(const rstring *rstr, int idx)</div><div class="ttdoc">Return the char at given position. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00596">rstring.c:596</a></div></div>
<div class="ttc" id="rstring_8c_html_af5be360e4bfbee194994cd2ddc3a6823"><div class="ttname"><a href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a></div><div class="ttdeci">rstring * rstring_new(const char *cstr)</div><div class="ttdoc">Make a new rstring from c string. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00028">rstring.c:28</a></div></div>
<div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
<div class="ttc" id="rstring_8c_html_a48e81cf18a8972237e862c8ac8c160f7"><div class="ttname"><a href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a></div><div class="ttdeci">int rstring_length(const rstring *rstr)</div><div class="ttdoc">Returns the length of the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00573">rstring.c:573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f8f09ed81e27bb5fd0a8d5f12108bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8f09ed81e27bb5fd0a8d5f12108bcf">&#9670;&nbsp;</a></span>rfile_exist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfile_exist </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells whether a file exists or not (i.e., stat is successful). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the filename to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RTRUE</td><td>The file exists </td></tr>
    <tr><td class="paramname">RFALSE</td><td>The file does not exist </td></tr>
    <tr><td class="paramname">RERROR</td><td>fname is invalid or there was an error. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00074">74</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">int</span> ret_val = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">char</span>* cfname = bstr2cstr(fname, <span class="charliteral">&#39;?&#39;</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (cfname == NULL) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  ret_val = stat(cfname, &amp;st);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  free(cfname);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">if</span> (ret_val &lt; 0) {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">return</span> RFALSE;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> RTRUE;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div><div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d8d56ccb773cd58095cc5b706ee542f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8d56ccb773cd58095cc5b706ee542f">&#9670;&nbsp;</a></span>rfile_extname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rstring* rfile_extname </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the extension of a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the file name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">rstring*</td><td>A valid rstring containing the extension of the file. </td></tr>
    <tr><td class="paramname">NULL</td><td>The input rstring is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller must free the result. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00313">313</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rfile_8c_source.html#l00176">rfile_basename()</a>, <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>, <a class="el" href="rstring_8c_source.html#l00066">rstring_free()</a>, <a class="el" href="rstring_8c_source.html#l00573">rstring_length()</a>, <a class="el" href="rstring_8c_source.html#l00028">rstring_new()</a>, and <a class="el" href="rstring_8c_source.html#l00226">rstring_slice()</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordtype">int</span> basename_len = 0;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordtype">int</span> last_dot = 0;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  rstring* basename = NULL;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  rstring* extname  = NULL;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  basename     = <a class="code" href="rfile_8c.html#adeabc016ec0c86ad397565af546391e1">rfile_basename</a>(fname);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(basename)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  basename_len = <a class="code" href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a>(basename);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (basename_len == RERROR) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  last_dot = bstrrchr((const_bstring)basename, <span class="charliteral">&#39;.&#39;</span>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">if</span> (<span class="comment">/* No &#39;.&#39; was found */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      (last_dot == BSTR_ERR) ||</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="comment">/* The last dot was the first char: &quot;.profile&quot; */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      (last_dot == 0) ||</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">/* If the dot was the last thing in the fname: &quot;foo.&quot; */</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      (last_dot == basename_len - 1)) {</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    extname = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(extname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    extname = <a class="code" href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a>(basename, last_dot, basename_len);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(extname)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(basename);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">return</span> extname;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;}</div><div class="ttc" id="rstring_8c_html_aca8c55710516d18aa8c143c51a546049"><div class="ttname"><a href="rstring_8c.html#aca8c55710516d18aa8c143c51a546049">rstring_slice</a></div><div class="ttdeci">rstring * rstring_slice(const rstring *rstr, int index, int length)</div><div class="ttdoc">Return a substring starting at index of a given length (clamped by the end of rstr). </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00226">rstring.c:226</a></div></div>
<div class="ttc" id="rfile_8c_html_adeabc016ec0c86ad397565af546391e1"><div class="ttname"><a href="rfile_8c.html#adeabc016ec0c86ad397565af546391e1">rfile_basename</a></div><div class="ttdeci">rstring * rfile_basename(const rstring *fname)</div><div class="ttdoc">Return the basename of a file. </div><div class="ttdef"><b>Definition:</b> <a href="rfile_8c_source.html#l00176">rfile.c:176</a></div></div>
<div class="ttc" id="rstring_8c_html_af5be360e4bfbee194994cd2ddc3a6823"><div class="ttname"><a href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a></div><div class="ttdeci">rstring * rstring_new(const char *cstr)</div><div class="ttdoc">Make a new rstring from c string. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00028">rstring.c:28</a></div></div>
<div class="ttc" id="rstring_8c_html_adc92beb556cd031893d12de377ab1b48"><div class="ttname"><a href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a></div><div class="ttdeci">int rstring_free(rstring *rstr)</div><div class="ttdoc">Free the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00066">rstring.c:66</a></div></div>
<div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
<div class="ttc" id="rstring_8c_html_a48e81cf18a8972237e862c8ac8c160f7"><div class="ttname"><a href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a></div><div class="ttdeci">int rstring_length(const rstring *rstr)</div><div class="ttdoc">Returns the length of the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00573">rstring.c:573</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a25e5f63b8902baf642dd2642160e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a25e5f63b8902baf642dd2642160e44">&#9670;&nbsp;</a></span>rfile_is_directory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfile_is_directory </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells whether the named directory exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the dirname to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RTRUE</td><td>The dir exists </td></tr>
    <tr><td class="paramname">RFALSE</td><td>The dir does not exist </td></tr>
    <tr><td class="paramname">RERROR</td><td>The input rstring is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Ruby also returns true if dir is a symlink that points at a directory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00107">107</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordtype">int</span> ret_val = 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">char</span>* cfname = bstr2cstr(fname, <span class="charliteral">&#39;?&#39;</span>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">if</span> (cfname == NULL) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  ret_val = stat(cfname, &amp;st);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  bcstrfree(cfname);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> (ret_val &lt; 0 || !S_ISDIR(st.st_mode)) {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> RFALSE;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> RTRUE;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div><div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7f023436f8dab5020f08fe31684b7f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f023436f8dab5020f08fe31684b7f7">&#9670;&nbsp;</a></span>rfile_is_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rfile_is_file </td>
          <td>(</td>
          <td class="paramtype">const rstring *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells whether the named file exists and is a regular file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fname</td><td>An rstring with the dirname to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RTRUE</td><td>The file exists </td></tr>
    <tr><td class="paramname">RFALSE</td><td>The file does not exist </td></tr>
    <tr><td class="paramname">RERROR</td><td>The input rstring is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Ruby also returns true if file is a symlink that points at a file. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00141">141</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00022">rstring_bad</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(fname)) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">int</span> ret_val = 0;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">char</span>* cfname = bstr2cstr(fname, <span class="charliteral">&#39;?&#39;</span>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">if</span> (cfname == NULL) { <span class="keywordflow">return</span> RERROR; }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  ret_val = stat(cfname, &amp;st);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  bcstrfree(cfname);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (ret_val &lt; 0 || !S_ISREG(st.st_mode)) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> RFALSE;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">else</span> {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> RTRUE;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1dcfb5d7db6ca3365e74df214c5ffdae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dcfb5d7db6ca3365e74df214c5ffdae">&#9670;&nbsp;</a></span>rfile_join()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rstring* rfile_join </td>
          <td>(</td>
          <td class="paramtype">rstring_array *&#160;</td>
          <td class="paramname"><em>rary</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a new path by joining the strings using the RFILE_SEPARATOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rary</td><td>An rstring_array with the rstrings to join.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">rstring*</td><td>A valid rstring with the input strings all joined up. </td></tr>
    <tr><td class="paramname">NULL</td><td>The input rstring_array is invalid or there was an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Ruby has some weird behavior here where it sometimes keeps double // and sometimes it doesn't. It doesn't in cases where there is more than one slash in a single one of the input strings. Regardless, the function is for building paths so in that spirit, we don't want those double separators anyways. Soooo, it differs from Ruby in these cases.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The caller must free the result.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>the no_doubles path will use a bit more memory than it actually needs if some of the double // are removed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="rfile_8c_source.html#l00368">368</a> of file <a class="el" href="rfile_8c_source.html">rfile.c</a>.</p>

<p class="reference">References <a class="el" href="rstring_8h_source.html#l00027">rstring_array_bad</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4678df0af869b567c70cb475596b34f">rstring_array_bad</a>(rary)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordtype">int</span> j = 0;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordtype">int</span> len = 0;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordtype">int</span> char_at = 0;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">/* Check if any of the rstrings are null */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; rary-&gt;qty; ++i) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">if</span> (rstring_array_get(rary, i) == NULL) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  rstring* path = NULL;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  rstring* sep = NULL;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keywordtype">int</span> c = 0;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <span class="keywordtype">int</span> c_minus_1 = 0;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  sep = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(RFILE_SEPARATOR_STR);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(sep)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">/* Clean up path if early exit from here down. */</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  path = rstring_array_join(rary, sep);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(path)) { <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(sep);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">/* If it&#39;s empty, there are no doubles. */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  len = <a class="code" href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a>(path);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (len == RERROR) { <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(path); <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">if</span> (len == 0) { <span class="keywordflow">return</span> path; }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">/* Remove doubles of file sep. */</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">/* Clean up no_doubles if early exit from here down. */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordtype">char</span>* no_doubles = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>) * ((len + 1)));</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (no_doubles == NULL) { <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(path); <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  j = 0;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  char_at = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(path, 0);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">if</span> (char_at == RERROR) { <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(path); free(no_doubles); <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  no_doubles[j++] = char_at;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">for</span> (i = 1; i &lt; len; ++i) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    c = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(path, i);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    c_minus_1 = <a class="code" href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a>(path, i - 1);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">if</span> (c == RERROR || c_minus_1 == RERROR) {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(path); free(no_doubles); <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (c != RFILE_SEPARATOR || c_minus_1 != RFILE_SEPARATOR) {</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      no_doubles[j++] = c;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  no_doubles[j] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <a class="code" href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a>(path);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="comment">/* Rewrite the path */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  path = <a class="code" href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a>(no_doubles);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a>(path)) { free(no_doubles); <span class="keywordflow">return</span> NULL; }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  free(no_doubles);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">return</span> path;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div><div class="ttc" id="rstring_8c_html_a7162fcaec08cf423ad11dfecc279499e"><div class="ttname"><a href="rstring_8c.html#a7162fcaec08cf423ad11dfecc279499e">rstring_char_at</a></div><div class="ttdeci">int rstring_char_at(const rstring *rstr, int idx)</div><div class="ttdoc">Return the char at given position. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00596">rstring.c:596</a></div></div>
<div class="ttc" id="rstring_8h_html_ac4678df0af869b567c70cb475596b34f"><div class="ttname"><a href="rstring_8h.html#ac4678df0af869b567c70cb475596b34f">rstring_array_bad</a></div><div class="ttdeci">#define rstring_array_bad(rary)</div><div class="ttdoc">Check that an rstring_array is valid. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00027">rstring.h:27</a></div></div>
<div class="ttc" id="rstring_8c_html_af5be360e4bfbee194994cd2ddc3a6823"><div class="ttname"><a href="rstring_8c.html#af5be360e4bfbee194994cd2ddc3a6823">rstring_new</a></div><div class="ttdeci">rstring * rstring_new(const char *cstr)</div><div class="ttdoc">Make a new rstring from c string. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00028">rstring.c:28</a></div></div>
<div class="ttc" id="rstring_8c_html_adc92beb556cd031893d12de377ab1b48"><div class="ttname"><a href="rstring_8c.html#adc92beb556cd031893d12de377ab1b48">rstring_free</a></div><div class="ttdeci">int rstring_free(rstring *rstr)</div><div class="ttdoc">Free the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00066">rstring.c:66</a></div></div>
<div class="ttc" id="rstring_8h_html_ac4cb3fc44c65dc2502a7e6e264a0dcd3"><div class="ttname"><a href="rstring_8h.html#ac4cb3fc44c65dc2502a7e6e264a0dcd3">rstring_bad</a></div><div class="ttdeci">#define rstring_bad(rstr)</div><div class="ttdoc">These conditions must hold for the rstring to be valid. See the btolower function for this...</div><div class="ttdef"><b>Definition:</b> <a href="rstring_8h_source.html#l00022">rstring.h:22</a></div></div>
<div class="ttc" id="rstring_8c_html_a48e81cf18a8972237e862c8ac8c160f7"><div class="ttname"><a href="rstring_8c.html#a48e81cf18a8972237e862c8ac8c160f7">rstring_length</a></div><div class="ttdeci">int rstring_length(const rstring *rstr)</div><div class="ttdoc">Returns the length of the rstring. </div><div class="ttdef"><b>Definition:</b> <a href="rstring_8c_source.html#l00573">rstring.c:573</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
